{"ast":null,"code":"import _objectSpread from \"/Applications/vue_tutorial/vue_tutorial/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport { loginApi } from \"@/api/loginApi.js\";\nimport { Toast } from 'vant';\nexport default {\n  data: function data() {\n    return {\n      showPwd: true,\n      isLogin: false,\n      form: {\n        userName: '',\n        tel: '',\n        password: ''\n      }\n    };\n  },\n  methods: {\n    //隐密按钮\n    onShowPwd: function onShowPwd() {\n      this.showPwd = !this.showPwd;\n    },\n    //登录注册切换按钮\n    onRegistered: function onRegistered() {\n      this.isLogin = !this.isLogin;\n    },\n    //登录注册提交按钮\n    onLogin: function onLogin() {\n      var _this = this;\n      if (this.isLogin) {\n        var params = _objectSpread({}, this.form);\n        loginApi(params).then(function (res) {\n          if (res.code == 200) {\n            _this.$router.push('/home');\n            Toast(res.message);\n          } else {\n            Toast(res.message);\n          }\n        });\n      } else {\n        //注册\n      }\n    }\n  }\n};","map":{"version":3,"names":["loginApi","Toast","data","showPwd","isLogin","form","userName","tel","password","methods","onShowPwd","onRegistered","onLogin","_this","params","_objectSpread","then","res","code","$router","push","message"],"sources":["src/views/login/index.vue"],"sourcesContent":["<template>\r\n\t<div class=\"login-page\">\r\n\t\t<div class=\"login-box\">\n\t\t\t<!-- logo -->\r\n\t\t\t<div class=\"logo\">logo</div>\n\t\t\t\n\t\t\t\r\n\t\t\t<div class=\"model-box\">\n\t\t\t\t<!-- 用户名 -->\r\n\t\t\t\t<van-cell-group>\r\n\t\t\t\t\t<van-field v-model=\"form.userName\" clearable left-icon=\"friends-o\" placeholder=\"用户名\" />\r\n\t\t\t\t</van-cell-group>\n\t\t\t\t\n\t\t\t\t<!-- 手机号 -->\n\t\t\t\t<van-cell-group v-if=\"isLogin\">\n\t\t\t\t\t<van-field v-model=\"form.tel\" left-icon=\"phone-o\" placeholder=\"手机号\" />\n\t\t\t\t</van-cell-group>\n\t\t\t\t\n\t\t\t\t<!-- 验证码 -->\n\t\t\t\t<van-cell-group v-if=\"isLogin\">\n\t\t\t\t\t<van-field v-model=\"form.tel\" left-icon=\"phone-o\" placeholder=\"手机号\" />\n\t\t\t\t</van-cell-group>\n\t\t\t\t\n\t\t\t\t<!-- 密码 -->\n\t\t\t\t<van-cell-group>\n\t\t\t\t\t<van-field v-model=\"form.password\" :type=\"showPwd ? 'password' : 'text'\" left-icon=\"bag-o\" placeholder=\"密码\" />\n\t\t\t\t\t<span @click=\"onShowPwd\">\n\t\t\t\t\t\t<van-icon v-if=\"showPwd\" name=\"eye-o\" />\n\t\t\t\t\t\t<van-icon v-else name=\"closed-eye\" />\n\t\t\t\t\t</span>\n\t\t\t\t</van-cell-group>\n\t\t\t\t\n\t\t\t\t<!-- 登录按钮 -->\n\t\t\t\t<div class=\"login-btn\" @click=\"onLogin\">\n\t\t\t\t\t<van-button type=\"info\">登录</van-button>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div class=\"isLogin\">\n\t\t\t\t\t<span>密码登录</span> <span>|</span> <span @click=\"onRegistered\">{{isLogin ? \"用户登录\" : \"用户注册\"}}</span>\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\nimport { loginApi } from \"@/api/loginApi.js\";\nimport { Toast } from 'vant';\nexport default {\n\tdata(){\n\t\treturn{\n\t\t\tshowPwd: true,\n\t\t\tisLogin: false,\n\t\t\tform:{\n\t\t\t\tuserName: '',\n\t\t\t\ttel: '',\n\t\t\t\tpassword: ''\n\t\t\t}\n\t\t}\n\t},\n\tmethods:{\n\t\t//隐密按钮\n\t\tonShowPwd(){\n\t\t\tthis.showPwd = !this.showPwd\n\t\t},\n\t\t\n\t\t//登录注册切换按钮\n\t\tonRegistered(){\n\t\t\tthis.isLogin = !this.isLogin\n\t\t},\n\t\t\n\t\t//登录注册提交按钮\n\t\tonLogin(){\n\t\t\tif(this.isLogin){\n\t\t\t\tlet params = {\n\t\t\t\t\t...this.form\n\t\t\t\t}\n\t\t\t\tloginApi(params).then((res)=>{\n\t\t\t\t\tif(res.code == 200){\n\t\t\t\t\t\tthis.$router.push('/home')\n\t\t\t\t\t\tToast(res.message);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tToast(res.message);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}else{\n\t\t\t\t//注册\n\t\t\t}\n\t\t\t\n\t\t}\n\t}\n}\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\t.login-page {\r\n\t\tbackground-image: url(../../assets/bg.jpg);\r\n\t\theight: 100%;\r\n\r\n\t\t.login-box {\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: 50%;\r\n\t\t\tleft: 50%;\r\n\t\t\ttransform: translate(-50%, -50%);\r\n\t\t\twidth: 76%;\r\n\t\t\theight: 500px;\r\n\r\n\t\t\t.logo {\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\tfont-size: 40px;\r\n\t\t\t\tfont-weight: 900;\r\n\t\t\t}\n\t\t\t.model-box{\n\t\t\t\tmargin-top: 80px;\n\t\t\t\t.van-cell-group{\n\t\t\t\t\tposition: relative;\n\t\t\t\t\tmargin-top: 30px;\n\t\t\t\t\tborder: 1px solid #1989fa ;\n\t\t\t\t\tborder-radius: 20px;\n\t\t\t\t\tbackground: none;\n\t\t\t\t\t::v-deep .van-cell{\n\t\t\t\t\t\tborder-radius: 20px;\n\t\t\t\t\t\tbackground: none;\n\t\t\t\t\t\t.van-icon{\n\t\t\t\t\t\t\tfont-size: 24px;\n\t\t\t\t\t\t\tcolor: #1989fa;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t/*输入框内字体颜色*/\n\t\t\t\t\t::v-deep .van-field__control{\n\t\t\t\t\t\tcolor: #FFF;\n\t\t\t\t\t}\n\t\t\t\t\tspan{\n\t\t\t\t\t\tposition: absolute;\n\t\t\t\t\t\ttop: 50%;\n\t\t\t\t\t\tright: 8px;\n\t\t\t\t\t\ttransform: translateY(-50%);\n\t\t\t\t\t\tcolor:#fff\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t::v-deep .van-cell-group::after{\n\t\t\t\t\tcontent: none;\n\t\t\t\t}\n\t\t\t\t.van-cell::after{\n\t\t\t\t\tcontent: none;\n\t\t\t\t}\n\t\t\t\t.login-btn{\n\t\t\t\t\tmargin-top: 50px;\n\t\t\t\t\t.van-button{\n\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\tborder-radius: 20px;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t.isLogin{\n\t\t\t\tmargin-top: 30px;\n\t\t\t\ttext-align: center;\n\t\t\t\tspan{\n\t\t\t\t\tpadding: 0 6px;\n\t\t\t\t\tcolor: #fff;\n\t\t\t\t\tfont-size: 13px;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>"],"mappings":";;AA8CA,SAAAA,QAAA;AACA,SAAAC,KAAA;AACA;EACAC,IAAA,WAAAA,KAAA;IACA;MACAC,OAAA;MACAC,OAAA;MACAC,IAAA;QACAC,QAAA;QACAC,GAAA;QACAC,QAAA;MACA;IACA;EACA;EACAC,OAAA;IACA;IACAC,SAAA,WAAAA,UAAA;MACA,KAAAP,OAAA,SAAAA,OAAA;IACA;IAEA;IACAQ,YAAA,WAAAA,aAAA;MACA,KAAAP,OAAA,SAAAA,OAAA;IACA;IAEA;IACAQ,OAAA,WAAAA,QAAA;MAAA,IAAAC,KAAA;MACA,SAAAT,OAAA;QACA,IAAAU,MAAA,GAAAC,aAAA,KACA,KAAAV,IAAA,CACA;QACAL,QAAA,CAAAc,MAAA,EAAAE,IAAA,WAAAC,GAAA;UACA,IAAAA,GAAA,CAAAC,IAAA;YACAL,KAAA,CAAAM,OAAA,CAAAC,IAAA;YACAnB,KAAA,CAAAgB,GAAA,CAAAI,OAAA;UACA;YACApB,KAAA,CAAAgB,GAAA,CAAAI,OAAA;UACA;QACA;MACA;QACA;MAAA;IAGA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}